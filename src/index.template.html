<!DOCTYPE html>
<html>

<head>
  <title>
    <%= productName %>
  </title>
  <meta charset="utf-8">
  <meta name="description" content="<%= productDescription %>">
  <meta name="format-detection" content="telephone=no">
  <meta name="msapplication-tap-highlight" content="no">
  <meta name="viewport"
    content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width<% if (ctx.mode.cordova || ctx.mode.capacitor) { %>, viewport-fit=cover<% } %>">
  <link rel="icon" type="image/png" href="/images/icon.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/icon.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/images/icon.png">
  <link rel="icon" type="image/ico" href="/images/favicon.ico">
  <!--<link rel="stylesheet" href="https://app.controleonline.com/modules/chat/css/chat.css">-->
  <!--<script type="text/javascript" src="https://app.controleonline.com/modules/chat/js/chat.js"></script>-->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/service-worker.js').then(registration => {
          console.log('Service Worker registrado com sucesso:', registration);

          // Verifique se há uma atualização pendente do Service Worker
          if (registration.waiting) {
            // Há uma nova versão disponível, você pode mostrar uma mensagem ao usuário e perguntar se eles desejam atualizar
            console.log('Há uma nova versão disponível, por favor atualize a página.');
          }
        }).catch(error => {
          console.log('Falha ao registrar o Service Worker:', error);
        });
      });
    }
  </script>
  <meta name="google-signin-client_id"
    content="576180805339-80brq257lrnlavl5ca7fd347o7vs1amm.apps.googleusercontent.com">
  <script>
    function onSignIn(googleUser) {
      // The ID token can be used to authenticate the user on your backend.
      var id_token = googleUser.getAuthResponse().id_token;

      console.log(googleUser.getAuthResponse());

      // Send the `id_token` to your backend server for verification and user authentication.
      // Example AJAX request:
      /*
      $.ajax({
        method: "POST",
        url: "your-backend-endpoint",
        data: { id_token: id_token },
        success: function(response) {
          console.log("User authenticated:", response);
        },
        error: function(error) {
          console.error("Authentication error:", error);
        }
      });
      */
    }
  </script>
</head>

<body>
  <div id="q-app"></div>
  <script>
    function initMap() {
      HAS_GOOGLE_MAPS = true;
    }
  </script>
  <script
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDNNix1wmffGVNe9Q29sKSebkklhmkjM8s&callback=initMap&libraries=&v=weekly"
    async></script>
  <div class="g-signin2" data-onsuccess="onSignIn"></div>
  <script src="https://apis.google.com/js/platform.js" async defer></script>
</body>

</html>